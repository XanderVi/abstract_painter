<html>
<head>
</head>

<script>

var coordsx = [];
var coordsy = [];

function arrcreate() {
for (j = 0; j <= 200; j++) {
coordsx[j] = Math.floor((Math.random() * 1600) + 1);
coordsy[j] = Math.floor((Math.random() * 799) + 1);
}
}
arrcreate();

var a1 = Math.floor((Math.random() * 255) + 1);
var b1 = Math.floor((Math.random() * 255) + 1);
var c1 = Math.floor((Math.random() * 255) + 1);

var ax = 2;
var bx = 3;
var cx = 1;
var dx = 1/3;
var dy = 1/3;

var n = prompt("Введите количество рисующих элементов");

function drawFrame() {
var ctx = document.getElementById('canvas').getContext('2d');

ctx.save();
//ctx.clearRect(0, 0, 1600, 900);

for (i = 1; i<= n; i++) {
ctx.beginPath();
ctx.lineWidth = 12;
ctx.strokeStyle = 'rgb('+ Math.floor(a1*1) +','+ Math.floor(b1*1) +','+ Math.floor(c1*1) +')';
ctx.arc(coordsx[i], coordsy[i], 6, 0, Math.PI*2, false);
ctx.stroke();
//ctx.restore();

coordsx[i] += dx * Math.floor((Math.random() * 10) + 1);
coordsy[i] += dy * Math.floor((Math.random() * 10) + 1);

a1 += ax/n;
b1 += bx/n;
c1 += cx/n;

if (coordsy[i] > 800 || coordsy[i] < -10) {
coordsy[i] = Math.floor((Math.random() * 799) + 1);
dx = -dx;
}

if (coordsx[i] > 1600 || coordsx[i] < -10) {
coordsy[i] = Math.floor((Math.random() * 1599) + 1);
dy = -dy;
}

if (a1 >= 255 || a1 <= 0) {
ax = -ax;
}

if (b1 >= 255 || b1 <= 0) {
bx = -bx;
}

if (c1 >= 255 || c1 <= 0) {
cx = -cx;
}
}

setTimeout("drawFrame()", 36000000);

window.requestAnimationFrame(drawFrame);
}

window.requestAnimationFrame(drawFrame);

</script>

<body bgcolor = "black">
<canvas id = "canvas" width = "1600" height = "800">
</body>
</html>
